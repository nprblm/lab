# lab 5
***
**1.** Прочитав про "docker-compose" та "Flask". 

**2.** Створив папку "my_app" і папку "tests". 

**3.** Перевірив працездатність проекту за допомогою команд 
```
pipenv --python 3.8, 
pipenv install -r requirements.txt, 
pipenv run python app.py. 
```

**4.** Виникли помилки.Усунув їх за допомогою установки та запуску redis-server та  створенням папки logs.

**5.** Провів тести за допомогою команди "pipenv run pytest test_app.py --url http://localhost:5000" всі вони пройшли успішно. 

**6.** Перевірив роботу сайту та перейшов на всі його сторінки. 

**7.** Очистив середовище,  створив файли "Dockerfile.app" та "Dockerfile.tests", а також "Makefile" для автоматизації процесу. 

**8.** Описую кожну директиву "Makefile": 
- REPO - змінна для зберігання назви Docker репозиторію 
- PHONY - дозволяє оголошувати фальшиві цілі 
- STATES - змінна для зберігання директив 
- run - директива для створення мережі 
- test-app - директива для запуску контейнера з моніторингом 
- docker-prune - видалення контейнерів, волюмів, мереж i імеджів 
- $(STATES) - директива для білда самого контейнера 
- docker-delete - директива для видалення імелжів 

**9.** Скрішоти сторінок сайту: 
![alt text](scr/photo_2021-01-17_22-31-58.jpg "Запуск сторінки у браузері")
![alt text](scr/photo_2021-01-17_22-44-06.jpg "Запуск сторінки у браузері") 
![alt text](scr/photo_2021-01-17_22-44-47.jpg "Запуск сторінки у браузері") 

**10**Почистив середовище.
 sudo make docker-prune
 **11**  Створив директиву для того, щоб пушити імеджі.
```
docker-push:
	@$(foreach state,$(STATES), sudo docker push $(REPO):$(state);)
```

**12** Створив дерективу для видалення імеджів.
```
images-delete:
	 @sudo docker image rm --force $(shell sudo docker images -q)
```

**13** Створив docker-compose.yml.

**14** Запустив docker-compose .
```
sudo docker-compose up
```

**15** Веб сторінка працює з портом .
```
localhost:80
```

**16** docker-compose стоврив імеджі.


**17** Зупинив docker-compose .
```
sudo docker-compose down
```

**18** Запушив імеджі.
```
sudo docker-compose push
```

**19**На мою думку компос кращий по декільком причинам: він легший у використанні, технологія є новішою, а також він розроблявся саме для docker-а.

**20**-

**21** Відредагував файл README.md.
